<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Come Mangonio</title>
<style>
  :root{
    --panel-bg:#000;
    --panel-contrast:#111;
    --muted:#8d8d8d;
    --accent:#ffd83b;
  }

  body{
    margin:0;
    background:#000;
    font-family:Arial, sans-serif;
    color:white;
    display:flex;
    justify-content:center;
    padding:20px;
  }

  .wrap{
    width:1100px;
    max-width:100%;
    display:grid;
    grid-template-columns: 1fr 300px;
    gap:20px;
  }

  header{
    grid-column:1/-1;
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:6px;
  }

  header img{
    width:50px;height:50px;
    border-radius:10px;
    object-fit:cover;
  }

  h1{margin:0;font-size:22px}
  .sub{color:var(--muted)}

  canvas{
    display:block;
    width:100%;
    height:auto;
    border-radius:10px;
    background:#000;
  }

  .panel{
    background:var(--panel-bg);
    border-radius:12px;
    padding:14px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  .score{
    font-size:32px;
    color:var(--accent);
    font-weight:bold;
  }

  button{
    background:var(--accent);
    border:none;
    padding:8px 10px;
    font-weight:bold;
    border-radius:8px;
    cursor:pointer;
  }

  .instructions{
    background:var(--panel-contrast);
    padding:10px;
    border-radius:10px;
    color:#ccc;
    font-size:14px;
  }

  @media(max-width:900px){
    .wrap{
      grid-template-columns:1fr;
    }
  }
</style>
</head>
<body>

<div class="wrap">

  <header>
    <img src="mangonio.png" onerror="this.style.display='none'">
    <div>
      <h1>Come Mangonio</h1>
      <div class="sub">Versión 60 FPS</div>
    </div>
  </header>

  <!-- GRAN ZONA DE JUEGO -->
  <canvas id="game" width="900" height="600"></canvas>

  <!-- PANEL DERECHO -->
  <aside class="panel">
    <div>
      <div style="color:#777;font-size:14px">Puntuación</div>
      <div id="score" class="score">0</div>
    </div>

    <button id="btnRestart">Reiniciar</button>
    <button id="btnPause">Pausa</button>

    <div class="instructions">
      Usa WASD o flechas para moverte.  
      Come manzanas para crecer.  
      Si chocas el borde o tu cuerpo, pierdes.
    </div>
  </aside>

</div>


<script>
/* ========== CONFIGURACIÓN ========== */

// MAPA MÁS PEQUEÑO, PERO CELDAS MÁS GRANDES
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// tablero reducido
const COLS = 23;
const ROWS = 15;

// celdas grandes para que el gameplay sea más grande
const CELL = 36;

canvas.width = COLS * CELL;
canvas.height = ROWS * CELL;

let snake = [];
let
